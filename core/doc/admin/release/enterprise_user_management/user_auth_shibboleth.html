<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Shibboleth Integration (Enterprise only) &mdash; ownCloud 9.1 Server Administration Manual 9.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/main.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '9.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="ownCloud 9.1 Server Administration Manual 9.1 documentation" href="../contents.html" />
    <link rel="up" title="User Management (Enterprise only)" href="index.html" />
    <link rel="next" title="Enterprise File Management (Enterprise Only)" href="../enterprise_file_management/index.html" />
    <link rel="prev" title="User Management (Enterprise only)" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1d2d44">

  </head>
  <body role="document">


<div class="wrap container not-front">
  <div class="content row">
  <main class="main">
    <div class="row page-content-header">
      <div class="col-md-5 col-md-offset-7">
      
        <form class="headersearch" style="margin-bottom:-3px;" action="../search.html" method="get">
        <input type="text" value="" name="q" id="q" class="form-control" /> 
        <button  class="btn btn-default" type="submit" id="searchsubmit">Search</button>
        </form>
      
      </div>
    </div>
    
			<div class="row">
				<div class="col-md-3">
					<div class="sidebar">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										
<li><a href="../contents.html">Table of Contents</a></li>
									</ul>
                  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">ownCloud 9.1 Server Administration Manual Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">ownCloud 9.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new_admin.html">What&#8217;s New for Admins in ownCloud 9.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_server/index.html">ownCloud Server Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_user/index.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_files/index.html">File Sharing and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_database/index.html">Database Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_mimetypes/index.html">Mimetypes Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and Troubleshooting</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../enterprise_installation/index.html">Enterprise Edition Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_clients/index.html">Creating Branded ownCloud Clients (Enterprise only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_server_branding/index.html">Enterprise Server Branding (Enterprise only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_external_storage/index.html">External Storage (Enterprise only)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Management (Enterprise only)</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Shibboleth Integration (Enterprise only)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-apache-shibboleth-module">The Apache Shibboleth module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-owncloud-shibboleth-app">The ownCloud Shibboleth App</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shibboleth-with-desktop-and-mobile-clients">Shibboleth with Desktop and Mobile Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="#webdav-support">WebDAV Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-limitations">Known Limitations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_file_management/index.html">Enterprise File Management (Enterprise Only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_logging/index.html">Enterprise Logging Apps (Enterprise only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_firewall/index.html">Enterprise Firewall (Enterprise only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_troubleshooting.html">Enterprise Troubleshooting</a></li>
</ul>

								</ul>
							</div>
					</div>
				</div>
        

				<div class="col-md-9">
					<div class="page-content">
            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="index.html" title="Previous Chapter: User Management (Enterprise only)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; User Manageme...</span>
    </a>
  </li>
  <li class="next">
    <a href="../enterprise_file_management/index.html" title="Next Chapter: Enterprise File Management (Enterprise Only)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Enterprise Fi... &raquo;</span>
    </a>
  </li>
</ul>
						
  <div class="section" id="shibboleth-integration-enterprise-only">
<h1>Shibboleth Integration (Enterprise only)<a class="headerlink" href="#shibboleth-integration-enterprise-only" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The ownCloud Shibboleth user backend application integrates ownCloud with a
Shibboleth Service Provider (SP) and allows operations in federated and
single-sign-on (SSO) infrastructures. Setting up Shibboleth has two big steps:</p>
<ol class="arabic simple">
<li>Enable and configure the Apache Shibboleth module.</li>
<li>Enable and configure the ownCloud Shibboleth app.</li>
</ol>
</div>
<div class="section" id="the-apache-shibboleth-module">
<h2>The Apache Shibboleth module<a class="headerlink" href="#the-apache-shibboleth-module" title="Permalink to this headline">¶</a></h2>
<p>Currently supported installations are based on the <a class="reference external" href="https://wiki.shibboleth.net/confluence/display/SHIB2/NativeSPApacheConfig">native Apache integration</a>.
The individual configuration of the service provider is highly dependent on
the operating system, as well as on the integration with the Identity
Providers (IdP), and require case-by-case analysis and installation.</p>
<p>A good starting point for the service provider installation can be found in
<a class="reference external" href="https://wiki.shibboleth.net/confluence/display/SHIB2/NativeSPLinuxInstall">the official Shibboleth Wiki</a>.</p>
<p>A successful installation and configuration will populate Apache environment
variables with at least a unique user id which is then used by the ownCloud
Shibboleth app to login a user.</p>
<p>See the <a class="reference external" href="https://github.com/owncloud/documentation/wiki/Shibboleth-example-configurations">documentation Wiki</a> for more configuration examples.</p>
<div class="section" id="apache-configuration">
<h3>Apache Configuration<a class="headerlink" href="#apache-configuration" title="Permalink to this headline">¶</a></h3>
<p>This is an example configuration as installed and operated on a Linux server
running the Apache 2.4 Web server. These configurations are highly operating system
specific and require a high degree of customization.</p>
<p>The ownCloud instance itself is installed in <code class="docutils literal"><span class="pre">/var/www/owncloud/</span></code>.  The
following aliases are defined in an Apache virtual host directive:</p>
<div class="highlight-python"><div class="highlight"><pre># non-Shibboleth access
Alias /owncloud /var/www/owncloud/
# for Shibboleth access
Alias /oc-shib /var/www/owncloud/
</pre></div>
</div>
<p>Further Shibboleth specific configuration as defined in
<code class="docutils literal"><span class="pre">/etc/apache2/conf.d/shib.conf</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>#
# Load the Shibboleth module.
#
LoadModule mod_shib /usr/lib64/shibboleth/mod_shib_24.so

#
# Ensures handler will be accessible.
#
&lt;Location /Shibboleth.sso&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Configure the module for content.
#

#
# Besides the exceptions below, this location is now under control of
# Shibboleth
#
&lt;Location /oc-shib&gt;
  AuthType shibboleth
  ShibRequireSession On
  ShibUseHeaders Off
  ShibExportAssertion On
  require valid-user
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow non
# shibboleth webdav access
#
&lt;Location ~ &quot;/oc-shib/remote.php/nonshib-webdav&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow public link
# sharing
#
&lt;Location ~ \
&quot;/oc-shib/(status.php$\
|index.php/s/\
|public.php\
|cron.php$\
|core/img/\
|index.php/apps/files_sharing/ajax/publicpreview.php$\
|index.php/apps/files/ajax/upload.php$\
|apps/files/templates/fileexists.html$\
|index.php/apps/files/ajax/mimeicon.php$\
|index.php/apps/files_sharing/ajax/list.php$\
|themes/\
|index.php/apps/files_pdfviewer/\
|apps/files_pdfviewer/)&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow public gallery
# sharing
#
&lt;Location ~ \
&quot;/oc-shib/(index.php/apps/gallery/s/\
|index.php/apps/gallery/slideshow$\
|index.php/apps/gallery/.*\.public)&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow public link
# sharing
#
&lt;Location ~ &quot;/oc-shib/.*\.css&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow public link
# sharing
#
&lt;Location ~ &quot;/oc-shib/.*\.js&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;

#
# Shibboleth is disabled for the following location to allow public link
# sharing
#
&lt;Location ~ &quot;/oc-shib/.*\.woff&quot;&gt;
  AuthType None
  Require all granted
&lt;/Location&gt;
</pre></div>
</div>
<p>Depending on the ownCloud Shibboleth app mode, you may need to revisit this
configuration.</p>
</div>
</div>
<div class="section" id="the-owncloud-shibboleth-app">
<h2>The ownCloud Shibboleth App<a class="headerlink" href="#the-owncloud-shibboleth-app" title="Permalink to this headline">¶</a></h2>
<p>After enabling the Shibboleth app on your Apps page, you need to choose the app
mode and map the necessary Shibboleth environment variables to ownCloud user
attributes on your Admin page.</p>
<div class="figure" id="id1">
<img alt="Shibboleth configuration screen." src="../_images/shib-gui5.png" />
<p class="caption"><span class="caption-text"><em>figure 1: Enabling Shibboleth on the ownCloud Admin page</em></span></p>
</div>
<div class="section" id="choosing-the-app-mode">
<h3>Choosing the App Mode<a class="headerlink" href="#choosing-the-app-mode" title="Permalink to this headline">¶</a></h3>
<p>After enabling the app it will be in <strong>Not active</strong> mode, which ignores a
Shibboleth session and allows you to login as an administrator and inspect the
currently available Apache environment variables. Use this mode to set up the
environment mapping for the other modes, and in case you locked yourself out of
the system. You can also change the app mode and environment mappings by using
the <code class="docutils literal"><span class="pre">occ</span></code> command, like this example on Ubuntu Linux:</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo -u www-data php occ shibboleth:mode notactive
$ sudo -u www-data php occ shibboleth:mapping --uid login
</pre></div>
</div>
<p>In <strong>Single sign-on only</strong> mode the app checks if the environment variable for
the Shibboleth session, by default <strong>Shib-Session-Id</strong>, is set. If that is the
case it will take the value of the environment variable as the <code class="docutils literal"><span class="pre">uid</span></code>, by
default <code class="docutils literal"><span class="pre">eppn</span></code>, and check if a user is known by that <code class="docutils literal"><span class="pre">uid</span></code>. In effect, this
allows another user backend, eg. the LDAP app, to provide the <code class="docutils literal"><span class="pre">displayname</span></code>,
<code class="docutils literal"><span class="pre">email</span></code> and <code class="docutils literal"><span class="pre">avatar</span></code>.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As an example the IdP can send the <strong>sAMAccountName</strong> which the
Apache Shibboleth module writes to a custom Apache environment variable
called <code class="docutils literal"><span class="pre">login</span></code>. The ownCloud Shibboleth app reads that <code class="docutils literal"><span class="pre">login</span></code>
environment variable and tries to find an LDAP user with that <code class="docutils literal"><span class="pre">uid</span></code>. For
this to work the LDAP backend also needs to be configured to use the
<strong>sAMAccountName</strong> as the <strong>Internal Username Attribute</strong> in the
<a class="reference internal" href="../configuration_user/user_auth_ldap.html"><em>LDAP expert settings</em></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In many scenarios Shibboleth is not intended to hide the user&#8217;s
password from the service provider, but only to implement SSO. If that is
the case it is sufficient to protect the ownCloud base url with Shibboleth.
This will send Web users to the IdP but allow desktop and mobile clients to
continue using username and password, preventing popups due to an expired
Shibboleth session lifetime.</p>
</div>
</div></blockquote>
<p>In <strong>Autoprovision Users</strong> mode the app will not ask another user backend, but
instead provision users on the fly by reading the two additional environment
variables for display name and email address.</p>
<div class="figure" id="id2">
<img alt="Dropdowns for mapping Shibboleth environment configuration variables to ownCloud user attributes." src="../_images/shib-gui6.png" />
<p class="caption"><span class="caption-text"><em>figure 2: Mapping Shibboleth environment configuration variables to ownCloud
user attributes</em></span></p>
</div>
<p>In ownCloud 8.1 the Shibboleth environment variable mapping was stored in
<code class="docutils literal"><span class="pre">apps/user_shibboleth/config.php</span></code>. This file was overwritten on upgrades,
preventing a seamless upgrade procedure. In ownCloud 8.2+ the variables are
stored in the ownCloud database, making Shibboleth automatically upgradeable.</p>
</div>
</div>
<div class="section" id="shibboleth-with-desktop-and-mobile-clients">
<h2>Shibboleth with Desktop and Mobile Clients<a class="headerlink" href="#shibboleth-with-desktop-and-mobile-clients" title="Permalink to this headline">¶</a></h2>
<p>The ownCloud Desktop Client can interact with an
ownCloud instance running inside a Shibboleth Service Provider by using built-in
browser components for authentication against the IdP.</p>
<p>The regular ownCloud Android and iOS mobile apps do not work with Shibboleth.
However, customers who create
<a class="reference internal" href="../enterprise_clients/creating_branded_apps.html"><em>branded mobile apps with ownBrander</em></a>
have the option to enable SAML authentication in ownBrander.</p>
<p>Enterprise customers also have the option to request a regular ownCloud
mobile client built to use Shibboleth from their ownCloud account
representatives.</p>
<p>The ownCloud desktop sync client and mobile apps store users&#8217; logins, so
your users only need to enter their logins the first time they set up their
accounts.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ownCloud clients may use only a single Shibboleth login per
ownCloud server; multi-account is not supported with Shibboleth.</p>
</div>
<p>These screenshots show what the user sees at account setup. Figure 1
shows a test Shibboleth login screen from
<a class="reference external" href="https://www.testshib.org/index.html">Testshib.org</a> on the ownCloud desktop
sync client.</p>
<div class="figure" id="id3">
<img alt="First client login screen." src="../_images/shib-gui1.png" />
<p class="caption"><span class="caption-text"><em>figure 3: First login screen</em></span></p>
</div>
<p>Then after going through the setup wizard, the desktop sync client displays the
server and login information just like it does for any other ownCloud server
connections.</p>
<div class="figure" id="id4">
<img alt="The ownCloud client shows which server you are connected to." src="../_images/shib-gui4.png" />
<p class="caption"><span class="caption-text"><em>figure 4: ownCloud client displays server information</em></span></p>
</div>
<p>To your users, it doesn&#8217;t look or behave differently on the desktop sync
client, Android app, or iOS app from an ordinary ownCloud account setup. The
only difference is the initial setup screen where they enter their account
login.</p>
</div>
<div class="section" id="webdav-support">
<h2>WebDAV Support<a class="headerlink" href="#webdav-support" title="Permalink to this headline">¶</a></h2>
<p>Users of standard WebDAV clients can use an alternative
WebDAV Url, for example <code class="docutils literal"><span class="pre">https://cloud.example.com/remote.php/nonshib-webdav/</span></code>
to log in with their username and password. The password is generated on the
Personal settings page.</p>
<img alt="../_images/shibboleth-personal.png" src="../_images/shibboleth-personal.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In <strong>Single sign-on only</strong> mode the alternative WebDAV Url feature
will not work, as we have no way to store the WebDAV password. Instead the
normal WebDAV endpoint can be omittet from the Shibboleth authentication,
allowing WebDAV clients to use normal username and password based
authentication. That includes the desktop and mobile clients.</p>
</div>
<p>For provisioning purpose an OCS API has been added to revoke a generated
password for a user:</p>
<p>Syntax: <code class="docutils literal"><span class="pre">/v1/cloud/users/{userid}/non_shib_password</span></code></p>
<ul class="simple">
<li>HTTP method: DELETE</li>
</ul>
<p>Status codes:</p>
<ul class="simple">
<li>100 - successful</li>
<li>998 - user unknown</li>
</ul>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>$ curl -X DELETE &quot;https://cloud.example.com/ocs/v1.php/cloud/users/myself@testshib.org/non_shib_password&quot; -u admin:admin
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;ocs&gt;
 &lt;meta&gt;
  &lt;status&gt;ok&lt;/status&gt;
  &lt;statuscode&gt;100&lt;/statuscode&gt;
  &lt;message/&gt;
 &lt;/meta&gt;
 &lt;data/&gt;
&lt;/ocs&gt;
</pre></div>
</div>
</div>
<div class="section" id="known-limitations">
<h2>Known Limitations<a class="headerlink" href="#known-limitations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="encryption">
<h3>Encryption<a class="headerlink" href="#encryption" title="Permalink to this headline">¶</a></h3>
<p>File encryption can only be used together with Shibboleth when the
<a class="reference internal" href="../configuration_files/encryption_configuration.html#occ-encryption-label"><span>master key-based encryption</span></a> is used because the
per- user encryption requires the user&#8217;s password to unlock the private
encryption key. Due to the nature of Shibboleth the user&#8217;s password is not known
to the service provider.</p>
</div>
<div class="section" id="other-login-mechanisms">
<h3>Other Login Mechanisms<a class="headerlink" href="#other-login-mechanisms" title="Permalink to this headline">¶</a></h3>
<p>You can allow other login mechanisms (e.g. LDAP or ownCloud native) by creating
a second Apache virtual host configuration. This second location is not
protected by Shibboleth, and you can use your other ownCloud login mechanisms.</p>
</div>
<div class="section" id="session-timeout">
<h3>Session Timeout<a class="headerlink" href="#session-timeout" title="Permalink to this headline">¶</a></h3>
<p>Session timeout on Shibboleth is controlled by the IdP. It is not possible to
have a session length longer than the length controlled by the IdP. In extreme
cases this could result in re-login on mobile clients and desktop clients every
hour.</p>
</div>
<div class="section" id="uid-considerations-and-windows-network-drive-compatability">
<h3>UID Considerations and Windows Network Drive compatability<a class="headerlink" href="#uid-considerations-and-windows-network-drive-compatability" title="Permalink to this headline">¶</a></h3>
<p>When using <code class="docutils literal"><span class="pre">user_shibboleth</span></code> in <strong>Single sign-on only</strong> mode, together with
<code class="docutils literal"><span class="pre">user_ldap</span></code>, both apps need to resolve to the same <code class="docutils literal"><span class="pre">uid</span></code>.
<code class="docutils literal"><span class="pre">user_shibboleth</span></code> will do the authentication, and <code class="docutils literal"><span class="pre">user_ldap</span></code> will provide
user details such as <code class="docutils literal"><span class="pre">email</span></code> and <code class="docutils literal"><span class="pre">displayname</span></code>. In the case of Active
Directory, multiple attributes can be used as the <code class="docutils literal"><span class="pre">uid</span></code>. But they all have
different implications to take into account:</p>
<p><strong>sAMAccountName</strong></p>
<ul class="simple">
<li><em>Example:</em> jfd</li>
<li><em>Uniqueness:</em> Domain local, might change e.g. marriage</li>
<li><em>Other implications:</em> Works with <code class="docutils literal"><span class="pre">windows_network_drive</span></code> app</li>
</ul>
<p><strong>userPrincipalName</strong></p>
<ul class="simple">
<li><em>Example:</em> <a class="reference external" href="mailto:jfd&#37;&#52;&#48;owncloud&#46;com">jfd<span>&#64;</span>owncloud<span>&#46;</span>com</a></li>
<li><em>Uniqueness:</em> Forest local, might change on eg. marriage</li>
<li><em>Other implications:</em> TODO check WND compatability</li>
</ul>
<p><strong>objectSid</strong></p>
<ul class="simple">
<li><em>Example:</em> S-1-5-21-2611707862-2219215769-354220275-1137</li>
<li><em>Uniqueness:</em> Domain local, changes when the user is moved to a new domain</li>
<li><em>Other implications:</em> Incompatible with <code class="docutils literal"><span class="pre">windows_network_drive</span></code> app</li>
</ul>
<p><strong>sIDHistory</strong></p>
<ul class="simple">
<li><em>Example:</em> Multi-value</li>
<li><em>Uniqueness:</em> Contains previous objectSIDs</li>
<li><em>Other implications:</em> Incompatible with <code class="docutils literal"><span class="pre">windows_network_drive</span></code> app</li>
</ul>
<p><strong>objectGUID</strong></p>
<ul class="simple">
<li><em>Example:</em> 47AB881D-0655-414D-982F-02998C905A28</li>
<li><em>Uniqueness:</em> Globally unique</li>
<li><em>Other implications:</em> Incompatible with <code class="docutils literal"><span class="pre">windows_network_drive</span></code> app</li>
</ul>
<p>Keep in mind that ownCloud will derive the home folder from the <code class="docutils literal"><span class="pre">uid</span></code>, unless
a home folder naming rule is in place. The only truly stable attribute is the
<code class="docutils literal"><span class="pre">objectGUID</span></code>, so that should be used. If not for the <code class="docutils literal"><span class="pre">uid</span></code> then at least as
the home folder naming rule. The tradeoff here is that if you want to use
<code class="docutils literal"><span class="pre">windows_network_drive</span></code> you are bound to the <code class="docutils literal"><span class="pre">sAMAccountName</span></code>, as that is
used as the login.</p>
<p>Also be aware that using <code class="docutils literal"><span class="pre">user_shibboleth</span></code> in <strong>Autoprovision Users</strong> mode
will not allow you to use SSO for additional <code class="docutils literal"><span class="pre">user_ldap</span></code> users,
because <code class="docutils literal"><span class="pre">uid</span></code> collisions will be detected by <code class="docutils literal"><span class="pre">user_ldap</span></code>.</p>
</div>
</div>
</div>


            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="index.html" title="Previous Chapter: User Management (Enterprise only)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; User Manageme...</span>
    </a>
  </li>
  <li class="next">
    <a href="../enterprise_file_management/index.html" title="Next Chapter: Enterprise File Management (Enterprise Only)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Enterprise Fi... &raquo;</span>
    </a>
  </li>
</ul>
					</div>
				</div>
			</div>
  </main>  
  </div>
</div>
  </body>
</html>